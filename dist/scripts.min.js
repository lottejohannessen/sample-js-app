let pokemonRepository=function(){let e=[],t='https://pokeapi.co/api/v2/pokemon/?limit=150';function n(t){'object'==typeof t?e.push(t):alert('Please enter valid Pokemon')}function o(e){i(e).then(function(){console.log(e),l(e)})}function i(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrlFront=t.sprites.other.dream_world.front_default,e.imageUrlAnimated=t.sprites.versions['generation-v']['black-white'].animated.front_default,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)}),e.abilities=[],t.abilities.forEach(function(t){e.abilities.push(t.ability.name)})}).catch(function(e){console.error(e)})}let a=$('#modal-container');function l(e){let t=$('.modal-body'),n=$('.modal-title');$('.modal-header');n.empty(),t.empty();let o=$('<h1>'+e.name+'</h1>'),i=$('<img class="modal-img" style="width:50%">');i.attr('src',e.imageUrlFront);let l=$('<img class="modal-img" style="width:50%">');l.attr('src',e.imageUrlBack);let r=$('<p>height : '+e.height+'</p>'),s=$('<p>weight : '+e.weight+'</p>'),d=$('<p>types : '+e.types+'</p>'),p=$('<p>abilities : '+e.abilities+'</p>');n.append(o),t.append(i),t.append(l),t.append(r),t.append(s),t.append(d),t.append(p),a.addClass('is-visible')}return{add:n,getAll:function(){return e},addListItem:function(e){pokemonRepository.loadDetails(e).then(function(){let t=$('.row'),n=$('<div class="card mt-5" style="width: 18rem; margin:13px;"></div>'),i=$('<img class="card-img-top mx-auto" style="width:30%;" alt="...">'),a=$('<h5 class="card-title">'+e.name+'</h5>');i.attr('src',e.imageUrlAnimated);let l=$('<div class="card-body" style="text-align: center;"></div>'),r=$('<button type="button" class="btn" style="background-color: #d88780; color: white" data-toggle="modal" data-target="#exampleModal">See profile</button>');t.append(n),n.append(i),n.append(l),l.append(a),l.append(r),r.on('click',function(t){o(e)})})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,showDetails:o,showModal:l}}();function search(){var e,t,n,o;for(e=document.getElementById('myInput').value.toUpperCase(),t=document.getElementById('myUL').querySelectorAll('.card'),o=0;o<t.length;o++)n=t[o].querySelector('.card-body').querySelector('.card-title'),console.log(n.innerText),(n.textContent||n.innerText).toUpperCase().indexOf(e)>-1?t[o].style.display='':t[o].style.display='none'}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
